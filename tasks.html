<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/webp" href="Data/Items/Contractors_Showdown_ExfilZone_Household.webp">
    <title>ExfilZone Task Guide</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #00ff88;
            --primary-dim: #00cc6a;
            --secondary: #ff4400;
            --bg-dark: #0a0e14;
            --bg-medium: #151a24;
            --bg-light: #1f2937;
            --bg-card: #1a1f2e;
            --text-primary: #e4e8f0;
            --text-secondary: #8b95a8;
            --accent-blue: #00d4ff;
            --accent-yellow: #fbbf24;
            --border: #2a3544;
            --sidebar-width: 220px;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            background-image:
                radial-gradient(circle at 20% 80%, rgba(0, 255, 136, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 68, 0, 0.03) 0%, transparent 50%);
        }

        /* Sidebar Navigation */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: var(--sidebar-width);
            height: 100vh;
            background: var(--bg-medium);
            border-right: 1px solid var(--border);
            padding: 1rem 0;
            z-index: 1000;
            transition: transform 0.3s ease;
            overflow-y: auto;
        }

        .sidebar.collapsed {
            transform: translateX(calc(-1 * var(--sidebar-width)));
        }

        .sidebar-header {
            padding: 0.5rem 1rem 1rem;
            border-bottom: 1px solid var(--border);
            margin-bottom: 1rem;
        }

        .sidebar-logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .sidebar .nav-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            margin: 0;
            color: var(--text-secondary);
            text-decoration: none;
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.2s;
            border-left: 3px solid transparent;
            border-radius: 0;
            background: transparent;
            border-top: none;
            border-right: none;
            border-bottom: none;
        }

        .sidebar .nav-link svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
            flex-shrink: 0;
        }

        .sidebar .nav-link:hover {
            background: var(--bg-light);
            color: var(--text-primary);
            border-left-color: var(--accent-blue);
        }

        .sidebar .nav-link.active {
            background: rgba(0, 255, 136, 0.1);
            color: var(--primary);
            border-left-color: var(--primary);
        }

        .sidebar-toggle {
            position: fixed;
            left: var(--sidebar-width);
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 48px;
            background: var(--bg-medium);
            border: 1px solid var(--border);
            border-left: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            z-index: 1001;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: left 0.3s ease;
        }

        .sidebar-toggle:hover {
            background: var(--bg-light);
        }

        .sidebar-toggle svg {
            width: 16px;
            height: 16px;
            fill: var(--text-secondary);
            transition: transform 0.3s ease;
        }

        .sidebar.collapsed + .sidebar-toggle {
            left: 0;
        }

        .sidebar.collapsed + .sidebar-toggle svg {
            transform: rotate(180deg);
        }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            transition: margin-left 0.3s ease;
            min-height: 100vh;
        }

        .sidebar.collapsed ~ .main-content {
            margin-left: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            padding-bottom: 2rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--primary);
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 900;
            letter-spacing: 4px;
            text-transform: uppercase;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        .nav-links {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .nav-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-medium);
            border: 1px solid var(--border);
            color: var(--accent-blue);
            text-decoration: none;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .nav-link svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }

        .nav-link:hover {
            border-color: var(--accent-blue);
            background: var(--bg-light);
        }

        /* Trader Tabs */
        .trader-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .trader-tab {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-medium);
            border: 1px solid var(--border);
            color: var(--text-secondary);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.2s;
            border-radius: 4px;
        }

        .trader-tab img {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--border);
            transition: border-color 0.2s;
        }

        .trader-tab:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .trader-tab:hover img {
            border-color: var(--primary);
        }

        .trader-tab.active {
            background: var(--primary);
            color: var(--bg-dark);
            border-color: var(--primary);
        }

        .trader-tab.active img {
            border-color: var(--bg-dark);
        }

        /* Filter Controls */
        .filter-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
        }

        .search-box {
            padding: 0.5rem 1rem;
            background: var(--bg-medium);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text-primary);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            width: 250px;
            transition: all 0.2s;
        }

        .search-box:focus {
            outline: none;
            border-color: var(--accent-blue);
        }

        .search-box::placeholder {
            color: var(--text-secondary);
        }

        .map-filter {
            padding: 0.5rem 1rem;
            background: var(--bg-medium);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text-primary);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .map-filter:focus {
            outline: none;
            border-color: var(--accent-blue);
        }

        /* Tasks Grid */
        .tasks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .task-card {
            background: var(--bg-medium);
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
        }

        .task-card:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .task-card.completed {
            opacity: 0.6;
            border-color: var(--primary);
        }

        .task-card.completed .task-header {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.2) 0%, var(--bg-light) 100%);
        }

        .task-card.completed .completed-badge {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 48px;
            height: 48px;
            background: var(--primary);
            color: var(--bg-dark);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
            z-index: 5;
        }

        .task-header {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 0.5rem;
        }

        .task-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            color: var(--accent-yellow);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .task-number {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.7rem;
            font-weight: 700;
            color: var(--text-secondary);
            background: var(--bg-dark);
            padding: 0.25rem 0.5rem;
            border-radius: 3px;
            white-space: nowrap;
        }

        .task-content {
            padding: 1rem;
        }

        .task-map {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            color: var(--accent-blue);
            margin-bottom: 0.75rem;
            padding: 0.25rem 0.5rem;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 3px;
        }

        .task-map::before {
            content: 'MAP:';
            font-family: 'Orbitron', sans-serif;
            font-size: 0.65rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        .task-type {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            color: var(--accent-orange);
            margin-bottom: 0.75rem;
            margin-left: 0.5rem;
            padding: 0.25rem 0.5rem;
            background: rgba(255, 165, 0, 0.1);
            border-radius: 3px;
        }

        .task-type::before {
            content: 'TYPE:';
            font-family: 'Orbitron', sans-serif;
            font-size: 0.65rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        .task-objective {
            font-size: 0.95rem;
            color: var(--text-primary);
            line-height: 1.6;
            margin-bottom: 0.75rem;
        }

        .task-tips {
            margin-top: 0.75rem;
            padding: 0.75rem;
            background: rgba(0, 255, 136, 0.05);
            border-left: 3px solid var(--primary);
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .task-tips-label {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.65rem;
            font-weight: 700;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.25rem;
        }

        .task-video {
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px solid var(--border);
        }

        .task-video a {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--accent-blue);
            text-decoration: none;
            font-size: 0.85rem;
            transition: all 0.2s;
        }

        .task-video a:hover {
            color: var(--primary);
        }

        .task-video svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }

        .video-credit {
            text-align: center;
            margin-top: 2rem;
            padding: 1rem;
            background: var(--bg-medium);
            border: 1px solid var(--border);
            border-radius: 8px;
        }

        .video-credit a {
            color: var(--accent-blue);
            text-decoration: none;
        }

        .video-credit a:hover {
            text-decoration: underline;
        }

        .version-footer {
            text-align: center;
            padding: 2rem 0;
            margin-top: 2rem;
            color: var(--text-secondary);
            font-size: 0.8rem;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
        }

        .no-results {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary);
            font-size: 1.1rem;
            grid-column: 1 / -1;
        }

        .progress-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: var(--bg-medium);
            border: 1px solid var(--border);
            border-radius: 8px;
        }

        .progress-stat {
            text-align: center;
        }

        .progress-stat-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .progress-stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .progress-bar-container {
            width: 100%;
            height: 8px;
            background: var(--bg-dark);
            border-radius: 4px;
            margin-top: 0.5rem;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--accent-blue) 100%);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .trader-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: var(--bg-medium);
            border: 1px solid var(--border);
            border-radius: 8px;
        }

        .trader-image {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            border: 2px solid var(--primary);
        }

        .trader-info {
            text-align: left;
        }

        .trader-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-yellow);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 0.25rem;
        }

        .trader-faction {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .trader-task-count {
            font-size: 0.85rem;
            color: var(--accent-blue);
            margin-top: 0.5rem;
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(calc(-1 * var(--sidebar-width)));
            }

            .sidebar.mobile-open {
                transform: translateX(0);
            }

            .sidebar-toggle {
                left: 0;
            }

            .sidebar.mobile-open + .sidebar-toggle {
                left: var(--sidebar-width);
            }

            .sidebar.mobile-open + .sidebar-toggle svg {
                transform: rotate(180deg);
            }

            .main-content {
                margin-left: 0;
            }

            h1 { font-size: 1.75rem; }
            .container { padding: 1rem; }
            .tasks-grid { grid-template-columns: 1fr; }
            .search-box { width: 100%; }
        }

        /* Items Summary Section */
        .items-summary-section {
            margin-bottom: 2rem;
            background: var(--bg-medium);
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
        }

        .items-summary-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            cursor: pointer;
            background: var(--bg-card);
            transition: background 0.2s;
        }

        .items-summary-header:hover {
            background: var(--bg-light);
        }

        .items-summary-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--accent-blue);
        }

        .items-summary-title::before {
            content: '';
            width: 20px;
            height: 20px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%2300d4ff' viewBox='0 0 24 24'%3E%3Cpath d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14h-2v-4H6v-2h4V7h2v4h4v2h-4v4z'/%3E%3C/svg%3E") center/contain no-repeat;
        }

        .items-summary-toggle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            transition: transform 0.3s;
        }

        .items-summary-section.expanded .items-summary-toggle {
            transform: rotate(180deg);
        }

        .items-summary-content {
            display: none;
            padding: 1rem;
        }

        .items-summary-section.expanded .items-summary-content {
            display: block;
        }

        .items-summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 0.5rem;
        }

        .summary-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            background: var(--bg-dark);
            border-radius: 4px;
            border: 1px solid var(--border);
        }

        .summary-item-icon {
            width: 28px;
            height: 28px;
            object-fit: contain;
            border-radius: 4px;
        }

        .summary-item-name {
            flex: 1;
            font-size: 0.85rem;
            color: var(--text-primary);
        }

        .summary-item-qty {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            font-weight: 700;
            color: var(--primary);
        }

        .items-summary-empty {
            text-align: center;
            padding: 2rem;
            color: var(--text-secondary);
            font-style: italic;
        }

        .items-summary-stats {
            display: flex;
            gap: 1.5rem;
            padding: 0.75rem 1rem;
            background: var(--bg-dark);
            border-top: 1px solid var(--border);
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .items-summary-stats span {
            color: var(--primary);
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
        }
    </style>
</head>
<body>
    <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">ExfilZone</div>
        </div>
        <a href="index.html" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
            Hideout Tracker
        </a>
        <a href="tasks.html" class="nav-link active">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
            Task Guide
        </a>
        <a href="items.html" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-9 9H4V4h7v7zm9 0h-7V4h7v7zm-9 9H4v-7h7v7zm9 0h-7v-7h7v7z"/></svg>
            Item Database
        </a>
        <a href="itemspawns.html" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
            Item Spawns
        </a>
        <a href="ammo.html" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-4h2v-2h2v-2h-2V8h-2v4H9v2h2v2z"/></svg>
            Ammo TTK Chart
        </a>
        <a href="ammotradein.html" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"/></svg>
            Ammo Trade-in
        </a>
        <a href="keys.html" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.65 10A5.99 5.99 0 0 0 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6a5.99 5.99 0 0 0 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></svg>
            Key Vault Guide
        </a>
        <a href="keyspawns.html" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
            Key Spawns
        </a>
        <a href="maps.html" class="nav-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"/></svg>
            Interactive Maps
        </a>
    </nav>

    <!-- Sidebar Toggle Button -->
    <button class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
    </button>

    <!-- Main Content -->
    <div class="main-content">
        <div class="container">
            <header>
                <h1>TASK GUIDE</h1>
                <div class="subtitle">ExfilZone Mission Objectives & Strategies</div>
            </header>

        <div class="trader-tabs">
            <button class="trader-tab active" onclick="selectTrader('maximilian')"><img src="Images/Traders/BoulderForge_Maximilian_Trader.webp" alt="Maximilian">Maximilian (BOULDERFORGE)</button>
            <button class="trader-tab" onclick="selectTrader('tommy')"><img src="Images/Traders/ARK_Tommy_Trader.webp" alt="Tommy">Tommy (ARK)</button>
            <button class="trader-tab" onclick="selectTrader('johnny')"><img src="Images/Traders/TRUPIKS_Johnny_Trader.webp" alt="Johnny">Johnny (TRUPIKS)</button>
            <button class="trader-tab" onclick="selectTrader('igor')"><img src="Images/Traders/Regiment_Igor_Trader.webp" alt="Igor">Igor (REGIMENT)</button>
            <button class="trader-tab" onclick="selectTrader('anna')"><img src="Images/Traders/NEUMANN_ANNA_TRADER.jpg" alt="Anna">Anna (NEUMANN)</button>
            <button class="trader-tab" onclick="selectTrader('maggie')"><img src="Images/Traders/NTG_Maggie_Trader.webp" alt="Maggie">Maggie (N.T.G.)</button>
        </div>

        <div class="trader-display" id="traderDisplay">
            <img src="Images/Traders/BoulderForge_Maximilian_Trader.webp" alt="Maximilian" class="trader-image" id="traderImage">
            <div class="trader-info">
                <div class="trader-name" id="traderName">Maximilian</div>
                <div class="trader-faction" id="traderFaction">BoulderForge</div>
                <div class="trader-task-count" id="traderTaskCount">18 Tasks</div>
            </div>
        </div>

        <div class="filter-controls">
            <input type="text" class="search-box" id="searchBox" placeholder="Search missions..." oninput="filterTasks()">
            <select class="map-filter" id="mapFilter" onchange="filterTasks()">
                <option value="all">All Maps</option>
                <option value="Suburbs">Suburbs</option>
                <option value="Dam">Dam</option>
                <option value="Hydratown">Hydratown</option>
                <option value="Resort">Resort</option>
                <option value="Metro">Metro</option>
                <option value="Any">Any Map</option>
            </select>
        </div>

        <div class="progress-stats" id="progressStats">
            <div class="progress-stat">
                <div class="progress-stat-value" id="completedCount">0</div>
                <div class="progress-stat-label">Completed</div>
            </div>
            <div class="progress-stat">
                <div class="progress-stat-value" id="totalCount">0</div>
                <div class="progress-stat-label">Total Tasks</div>
            </div>
            <div class="progress-stat" style="flex: 1; max-width: 200px;">
                <div class="progress-stat-value" id="progressPercent">0%</div>
                <div class="progress-stat-label">Progress</div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <div class="items-summary-section" id="itemsSummarySection">
            <div class="items-summary-header" onclick="toggleItemsSummary()">
                <div class="items-summary-title">Items Needed</div>
                <div class="items-summary-toggle">â–¼</div>
            </div>
            <div class="items-summary-content">
                <div class="items-summary-grid" id="itemsSummaryGrid"></div>
            </div>
            <div class="items-summary-stats" id="itemsSummaryStats"></div>
        </div>

        <div class="tasks-grid" id="tasksGrid"></div>

        <div class="video-credit">
            Video guide by <a href="https://www.youtube.com/watch?v=h8AFe8ypIec" target="_blank">RadFox VR University</a> - Maximilian Missions Complete Task Guide Part 1
        </div>

        <div class="version-footer">
            v2.0.0 | Last Updated: January 5, 2025<br>
            <span style="opacity: 0.7; font-size: 0.7rem;">All game content and assets are property of Caveman Studio</span>
        </div>
    </div>

    <script>
        const taskData = {
            'maximilian': [
                {
                    name: "Customer First",
                    map: "Suburbs",
                    objective: "Reach the outdoor driving cinema, find the Maximilian golden goblet, extract, and turn it in.",
                    tips: null,
                    video: { timestamp: "0:12", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=12s" }
                },
                {
                    name: "Better Safe than Sorry 1",
                    map: "Suburbs",
                    objective: "Visit three close-by places marked on the mini-map (truck and loading station, yellowish huts) in the Apollo Hill area and then extract.",
                    tips: null,
                    video: { timestamp: "0:43", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=43s" }
                },
                {
                    name: "Covert Evacuation",
                    map: "Suburbs",
                    objective: "You are given a bunker exfil key. Touch the bunker door and extract from anywhere on the map.",
                    tips: "Open the bunker for rare loot and put the key in your safe container for future use.",
                    video: { timestamp: "1:55", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=115s" }
                },
                {
                    name: "Into the Rat Hole",
                    map: "Dam",
                    objective: "Visit a new area in Dam, grab a golden globe from the middle of a highlighted cave, and turn it in.",
                    tips: null,
                    video: { timestamp: "2:48", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=168s" }
                },
                {
                    name: "All Pieces Together 1",
                    map: "Any",
                    objective: "Submit six notebooks.",
                    tips: "Notebooks can be found on any map by checking doors, boxes, and shelves.",
                    video: { timestamp: "3:38", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=218s" },
                    items: [["Notebook", 6]]
                },
                {
                    name: "All Pieces Together 2",
                    map: "Any",
                    objective: "Submit eight tapes.",
                    tips: "Tapes can be found anywhere on any map.",
                    video: { timestamp: "3:55", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=235s" },
                    items: [["Tape", 8]]
                },
                {
                    name: "Seeing is Believing 1",
                    map: "Dam",
                    objective: "Grab trackers from a kiosk and mark three special \"Conway\" tracks in Dam (marked on the mini-map).",
                    tips: null,
                    video: { timestamp: "4:05", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=245s" }
                },
                {
                    name: "Seeing is Believing 2",
                    map: "Dam",
                    objective: "Grab a phone from your kiosk and take two pictures of aircraft engines in the Crash Site area. One engine is on the ground, and the other is attached to a plane wing.",
                    tips: null,
                    video: { timestamp: "4:38", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=278s" }
                },
                {
                    name: "Purge in the Ranks",
                    map: "Suburbs",
                    objective: "Go to the basement of the mall, find the Maximilian golden ingots on a table behind the main elevator, and extract.",
                    tips: "This is the first mission involving Maximilian golden ingots.",
                    video: { timestamp: "5:10", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=310s" }
                },
                {
                    name: "Better Safe than Sorry 2",
                    map: "Suburbs",
                    objective: "Reach three places near the mall: a house near the bridge, a green tent on the mall parking lot, and a water tower. Then successfully extract.",
                    tips: null,
                    video: { timestamp: "5:50", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=350s" }
                },
                {
                    name: "Don't Play with Fire",
                    map: "Suburbs",
                    objective: "Submit five combustible items found on a raid, then grab trackers to mark three silos in the farm area.",
                    tips: "Use Mika to scan items if unsure whether they're combustible.",
                    video: { timestamp: "6:51", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=411s" }
                },
                {
                    name: "Cold Hard Cash 1",
                    map: "Any",
                    objective: "Turn in one golden ingot.",
                    tips: "If you have the DLC, you'll have two ingots. Otherwise, find them in key rooms and high-value item spawns.",
                    video: { timestamp: "7:35", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=455s" },
                    items: [["Golden Ingot", 1]]
                },
                {
                    name: "Cold Hard Cash 2",
                    map: "Dam",
                    objective: "Mark five forklifts in Dam. Three forklifts are in the docks (two top, one bottom), and two are in the old factory.",
                    tips: "You're given four markers, so use a spare one from a previous mission or buy more from Ark.",
                    video: { timestamp: "8:00", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=480s" }
                },
                {
                    name: "All Pieces Together 3",
                    map: "Any",
                    objective: "Turn in six old phones.",
                    tips: "Old phones are common finds on any map.",
                    video: { timestamp: "9:14", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=554s" },
                    items: [["Old Phone", 6]]
                },
                {
                    name: "All Pieces Together 4",
                    map: "Any",
                    objective: "Turn in four cameras.",
                    tips: "Cameras are high-value items found in locked rooms, high-value item spawns, or sometimes in boxes.",
                    video: { timestamp: "9:28", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=568s" },
                    items: [["Camera", 4]]
                },
                {
                    name: "Cold Hard Cash 3",
                    map: "Dam",
                    objective: "Collect three ingots in Dam. Go to the construction area, kill bosses, climb the ladder to the top, and collect the ingots.",
                    tips: "Use the ladder trick to descend safely.",
                    video: { timestamp: "9:47", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=587s" }
                },
                {
                    name: "Console in Hand",
                    map: "Any",
                    objective: "Submit a game console and all four different game cartridges.",
                    tips: "These are found in locked rooms, high-value item spawns, and sometimes in boxes and drawers. The game console is rare.",
                    video: { timestamp: "10:53", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=653s" },
                    items: [["Game Console", 1], ["Game Cartridge", 4]]
                },
                {
                    name: "Hack to Play",
                    map: "Dam",
                    objective: "Find two discs. One is in the Dam power station area, and the other is under the factory \"bizone\" lock room.",
                    tips: null,
                    video: { timestamp: "11:13", url: "https://www.youtube.com/watch?v=h8AFe8ypIec&t=673s" }
                }
            ],
            'tommy': [
                {
                    name: "Handshake",
                    map: "Suburbs",
                    type: "Contract",
                    objective: "Successfully extract from the Suburb Area.",
                    tips: "Go explore the island and come back alive.",
                    video: { timestamp: "0:18", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=18s" }
                },
                {
                    name: "Friendly Reminder",
                    map: "Suburbs",
                    type: "Contract",
                    objective: "Eliminate 4 scavengers in the Suburb Area.",
                    tips: "Go take out some scavengers. Contractor players do not count - only AI scavengers.",
                    video: { timestamp: "0:22", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=22s" }
                },
                {
                    name: "Recon 1",
                    map: "Any",
                    type: "Contract",
                    objective: "Turn in 3 Intel items found in raid.",
                    tips: "Intel items can be found in military encampments in both the Suburb Area and Dam Area.",
                    video: { timestamp: "0:40", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=40s" },
                    items: [["Intel Item", 3]]
                },
                {
                    name: "Cellular Info",
                    map: "Suburbs",
                    type: "Contract",
                    objective: "Go to the Office Building in Suburb Area, find the Intel phone, and turn it in.",
                    tips: "One of our soldiers has gone missing. Her phone contains reconnaissance leads - find it on the second floor of the office building.",
                    video: { timestamp: "0:57", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=57s" }
                },
                {
                    name: "Deterrence 1",
                    map: "Any",
                    type: "Side-Task",
                    objective: "Kill eight targets on any map using an MP5.",
                    tips: "Good locations for bots include Hide Town and the Mall.",
                    video: { timestamp: "1:25", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=85s" }
                },
                {
                    name: "Find Trackers in Alibi",
                    map: "Suburbs",
                    objective: "Go to Alibi in the suburbs, check the restroom for one tracker, and find another on the roof by climbing a ladder.",
                    tips: null,
                    video: { timestamp: "1:52", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=112s" }
                },
                {
                    name: "Mark Ark Trucks",
                    map: "Any",
                    objective: "Mark three Ark trucks.",
                    tips: "Trackers can be bought from a kiosk if lost. Many trucks are found around the map, including near Hydro Town.",
                    video: { timestamp: "2:45", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=165s" }
                },
                {
                    name: "Get Kills with an AR15 Series Gun",
                    map: "Any",
                    objective: "Achieve 10 kills (bots or players) with an AR15 series gun.",
                    tips: "Some in-game AR15s might not count. Buy an AR15 Hunter if you experience issues.",
                    video: { timestamp: "3:18", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=198s" }
                },
                {
                    name: "Place Tommy's Cameras",
                    map: "Suburbs",
                    objective: "Find two cameras on a shelf in a dark warehouse between the motel and office building. Place one camera outside nearby and the second on a food truck near Alibi.",
                    tips: null,
                    video: { timestamp: "3:47", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=227s" }
                },
                {
                    name: "Kill Police Boss Iron Wolf",
                    map: "Suburbs",
                    objective: "Eliminate \"Iron Wolf,\" the police boss, at the police station in the suburbs.",
                    tips: "He wears a red cap and a vest saying \"police.\"",
                    video: { timestamp: "4:56", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=296s" }
                },
                {
                    name: "Capture on Site Suburbs (Photo Signs)",
                    map: "Suburbs",
                    objective: "Take three photos of shop signs in the mall: burger shop (first floor), repair shop (second floor), and outdoor gear store (third floor).",
                    tips: "Remember to take a phone from the kiosk first.",
                    video: { timestamp: "5:35", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=335s" }
                },
                {
                    name: "Informant 1 (Find Floppy Discs)",
                    map: "Suburbs",
                    objective: "Find three Ark floppy discs at specific highlighted locations: one in a storage room in Bury, one on the second floor of the yellow house, and one on a barrel in a fenced area.",
                    tips: null,
                    video: { timestamp: "6:13", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=373s" }
                },
                {
                    name: "Informant 2 (Place Optical Discs)",
                    map: "Suburbs",
                    objective: "Place three optical discs (CDs) in three different locations within the mall. Two boxes are on the first floor, and one is on the third floor.",
                    tips: null,
                    video: { timestamp: "7:40", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=460s" }
                },
                {
                    name: "Find Baseballs at the Dock Office",
                    map: "Dam",
                    objective: "Locate two baseballs at the dock office: one on the second floor of the main building and the other in a small shop outside.",
                    tips: null,
                    video: { timestamp: "9:30", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=570s" }
                },
                {
                    name: "Place Magazines and Mark Bridge Peers",
                    map: "Dam",
                    objective: "Obtain trackers from the kiosk and three 30-round MP5 magazines. Place the magazines in a box inside a truck near the bridge and mark both peers of the bridge.",
                    tips: null,
                    video: { timestamp: "11:22", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=682s" }
                },
                {
                    name: "Visit Locations and Extract from Dam",
                    map: "Dam",
                    objective: "Visit three highlighted locations in Dam (grocery in Clifton, Barber Shop in Clifton, and a tall station) and successfully extract twice.",
                    tips: null,
                    video: { timestamp: "12:26", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=746s" }
                },
                {
                    name: "Mark Green Storage Tanks",
                    map: "Dam",
                    objective: "Mark three green storage tanks in the old factory of the dam.",
                    tips: "You need to buy trackers from Ark for this task.",
                    video: { timestamp: "13:21", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=801s" }
                },
                {
                    name: "Kill Mall Boss",
                    map: "Suburbs",
                    objective: "Kill the mall boss in the suburbs. The boss is found on the roof or any floor of the mall.",
                    tips: "The boss's LMG and level six armor are valuable loot.",
                    video: { timestamp: "14:35", url: "https://www.youtube.com/watch?v=HLNHp2vxesQ&t=875s" }
                }
            ],
            'johnny': [
                {
                    name: "Secure Support",
                    map: "Suburbs",
                    objective: "Go to the power plant between the motel and office building to get your first 4-slot safe box.",
                    tips: "Completing Johnny's tasks grants safe boxes of increasing size and unlocks hideout upgrades.",
                    video: { timestamp: "0:30", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=30s" }
                },
                {
                    name: "Lights On",
                    map: "Any",
                    objective: "Submit three compostable items to unlock more hideout upgrades.",
                    tips: null,
                    video: { timestamp: "0:58", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=58s" }
                },
                {
                    name: "The Source of Life",
                    map: "Suburbs",
                    objective: "Kill three scavengers in Suburbs to unlock the water collector and medical area upgrades.",
                    tips: null,
                    video: { timestamp: "1:42", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=102s" }
                },
                {
                    name: "Target Practice",
                    map: "Hydratown",
                    objective: "Go to the police station in Hydratown, find the shooting range key on the first floor table, and turn it in to unlock the shooting range upgrade.",
                    tips: null,
                    video: { timestamp: "2:06", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=126s" }
                },
                {
                    name: "Capacity Upgrade 1",
                    map: "Suburbs",
                    objective: "Go to the car repair shop in Suburbs, find Johnny's safe box on the roof, and turn it in to get a 6-slot safe box.",
                    tips: null,
                    video: { timestamp: "2:31", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=151s" }
                },
                {
                    name: "Handy Tool",
                    map: "Hydratown",
                    objective: "Visit the bearery in Hydratown, find the 'joining steel' on one of the tables, and turn it in for more hideout upgrades.",
                    tips: null,
                    video: { timestamp: "3:04", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=184s" }
                },
                {
                    name: "Homecoming",
                    map: "Hydratown",
                    objective: "Go to the second floor of the wooden house in Hydratown, find Johnny's video tape on the chest of drawers, and turn it in to unlock bookshelf and sofa upgrades. You also receive a big junk box.",
                    tips: null,
                    video: { timestamp: "3:26", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=206s" }
                },
                {
                    name: "Speaking of Finance",
                    map: "Any",
                    objective: "Turn in five electric items found in a raid to unlock Bitcoin mine upgrades.",
                    tips: null,
                    video: { timestamp: "3:47", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=227s" }
                },
                {
                    name: "Canal Run",
                    map: "Suburbs",
                    objective: "Walk from the bunker to the office building, crossing three bridges in Suburbs.",
                    tips: "This task unlocks after completing task 16 by Ark Mark 3.",
                    video: { timestamp: "4:01", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=241s" }
                },
                {
                    name: "Capacity Upgrade 2",
                    map: "Suburbs",
                    objective: "Go to the resort, specifically the worker's dorm area, find Johnny's safe box in the laundry building, and turn it in to get an 8-slot safe box.",
                    tips: null,
                    video: { timestamp: "4:52", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=292s" }
                },
                {
                    name: "Salvage Mission 1",
                    map: "Suburbs",
                    objective: "Grab a camera phone from the kiosk, then go to Suburbs and take photos of five TV sets located in nearby houses.",
                    tips: null,
                    video: { timestamp: "5:17", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=317s" }
                },
                {
                    name: "One Last Mile",
                    map: "Suburbs",
                    objective: "Find three walkie-talkies at the garbage station near the hospital, then place them in a box in the middle of the skate park.",
                    tips: null,
                    video: { timestamp: "6:00", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=360s" }
                },
                {
                    name: "Salvage Mission 2",
                    map: "Dam",
                    objective: "Grab three trackers from the kiosk, then go to three military camps and mark three tanks (two near inlet towers, one near the broken bridge). Grants a 10-slot safe box.",
                    tips: "This is the only Johnny task in Dam.",
                    video: { timestamp: "6:27", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=387s" }
                },
                {
                    name: "Like Finds Like 1",
                    map: "Any",
                    objective: "Submit 40 household items (eight types, five of each): cleanser, cleaner, deodorant, pesticide, toilet paper, soap, beard oil, toothpaste.",
                    tips: "Unlocks at level 50. These last four tasks give access to the biggest 12-slot safe box.",
                    video: { timestamp: "7:14", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=434s" }
                },
                {
                    name: "Like Finds Like 2",
                    map: "Any",
                    objective: "Submit 40 specific tools (five of each): screwdriver, wrench, hammer, measuring tape, wire cutter, small wrench, spark plug, electric drill.",
                    tips: "Unlocks at level 50.",
                    video: { timestamp: "7:30", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=450s" }
                },
                {
                    name: "Like Finds Like 3",
                    map: "Any",
                    objective: "Submit 40 storage media items (five of each): CD, horror novel, magazine, recorder, computer manual, antiquarian book, tape, and floppy disk.",
                    tips: "Unlocks at level 50.",
                    video: { timestamp: "7:45", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=465s" }
                },
                {
                    name: "Like Finds Like 4",
                    map: "Any",
                    objective: "Submit 40 energy-based items (five of each): oil can, gunpowder, gas can, gun oil, large gas can, WD40, smokeless powder, olive oil.",
                    tips: "Unlocks at level 50. Completing all tasks grants the 12-slot 'lifesaver' safe box.",
                    video: { timestamp: "8:00", url: "https://www.youtube.com/watch?v=DIjbTZN_Wxc&t=480s" }
                }
            ],
            'igor': [
                // Level 1 Tasks
                {
                    name: "A Different Style",
                    map: "Any",
                    type: "Contract",
                    objective: "Get 8 kills with a rifle on any map.",
                    tips: "Level 1 task. You need to complete tasks from other traders to unlock more Igor tasks.",
                    video: { timestamp: "0:23", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=23s" }
                },
                {
                    name: "Taste of Life 1",
                    map: "Suburbs",
                    type: "Contract",
                    objective: "Submit 2 bottles of beer, found at the graveyard in suburbs.",
                    tips: null,
                    video: { timestamp: "0:38", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=38s" },
                    items: [["Bottle of Beer", 2]]
                },
                {
                    name: "Explosive Romance",
                    map: "Dam",
                    type: "Contract",
                    objective: "Find 2 gunpowders in Dam.",
                    tips: null,
                    video: { timestamp: "0:54", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=54s" },
                    items: [["Gunpowder", 2]]
                },
                {
                    name: "Shotgun Shock",
                    map: "Suburbs",
                    type: "Side-Task",
                    objective: "Get 6 kills with a pump shotgun in suburbs by killing scavengers.",
                    tips: null,
                    video: { timestamp: "4:07", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=247s" }
                },
                {
                    name: "Shades for Boom",
                    map: "Dam",
                    type: "Contract",
                    objective: "Go to the lumbercamp in Dam and find Igor's sunglasses.",
                    tips: null,
                    video: { timestamp: "1:36", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=96s" }
                },
                {
                    name: "Hair Comes First",
                    map: "Dam",
                    type: "Contract",
                    objective: "Get 5 kills without wearing a helmet in Dam.",
                    tips: null,
                    video: { timestamp: "11:45", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=705s" }
                },
                {
                    name: "Wait at Ease",
                    map: "Dam",
                    type: "Contract",
                    objective: "Place 3 sausages at the Toll Station watchtowers and Camp #11 in Dam to bait scavengers.",
                    tips: "Visit watchtower 1, watchtower 2 at Toll Station, and Camp #11. Place sausages at each location.",
                    video: { timestamp: "11:45", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=705s" },
                    items: [["Sausage", 3]]
                },
                {
                    name: "Emergency Rations",
                    map: "Dam",
                    type: "Contract",
                    objective: "Find Igor's canned food at the Old Factory Zone A and C, C1 Workshop, and C2 Workshop in Dam Area, then submit 2 cans.",
                    tips: "Visit Old Factory Zone A and C to find Igor's canned food, then turn in 2 cans.",
                    video: { timestamp: "0:00", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=0s" },
                    items: [["Igor's Canned Food", 2]]
                },
                {
                    name: "Hunter",
                    map: "Any",
                    type: "Side-Task",
                    objective: "Eliminate 9 targets with a bolt-action rifle.",
                    tips: "Use any bolt-action rifle to get 9 kills on any map.",
                    video: { timestamp: "0:00", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=0s" }
                },
                {
                    name: "Treasure in the Sewage",
                    map: "Resort",
                    type: "Contract",
                    objective: "Reach the Wastewater treatment plant, find Igor's treasure 1 and 2, then turn in Igor's notes.",
                    tips: "Go to the Wastewater Plant in Resort Area. Find Igor's treasure 1, Igor's treasure 2 (his notebook), and turn in 2 Igor's notes.",
                    video: { timestamp: "0:00", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=0s" },
                    items: [["Igor's Notes", 2]]
                },
                {
                    name: "Long Live Friendship 1",
                    map: "Resort",
                    type: "Contract",
                    objective: "Eliminate 11 Scavengers in Resort Area.",
                    tips: "Igor's friend used to live in Resort Area. Bandits are disturbing his friend's rest - teach those troublemakers a lesson by eliminating 11 scavengers.",
                    video: { timestamp: "0:00", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=0s" }
                },
                {
                    name: "Long Live Friendship 2",
                    map: "Resort",
                    type: "Contract",
                    objective: "Take photos of clues on the wall at Modern apartment park, Halit Voyage backdoor, and Beach chair area.",
                    tips: "Old Jack (the legendary jeweler) passed away in Whitesail Hospital and left a diary mentioning locations. The biggest treasure in the Resort Area bank heist (Heart of the Blue Sea) was his work. Take 3 photos of clues for Igor.",
                    video: { timestamp: "5:42", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=342s" }
                },
                {
                    name: "Firepower Roundup 1",
                    map: "Any",
                    objective: "Turn in M92 and M1928, found in raid or bought from the second floor.",
                    tips: null,
                    video: { timestamp: "2:00", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=120s" },
                    items: [["M92", 1], ["M1928", 1]]
                },
                {
                    name: "Firepower Roundup 2",
                    map: "Any",
                    objective: "Submit AKS74U and AR-15 Hunter, found in raid or bought from the second floor.",
                    tips: null,
                    video: { timestamp: "2:20", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=140s" },
                    items: [["AKS74U", 1], ["AR-15 Hunter", 1]]
                },
                {
                    name: "Firepower Roundup 3",
                    map: "Any",
                    objective: "Submit M67, F1, and RGD5 hand grenades.",
                    tips: "These grenades cannot be bought yet, must be found in raid.",
                    video: { timestamp: "2:39", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=159s" },
                    items: [["M67 Grenade", 1], ["F1 Grenade", 1], ["RGD5 Grenade", 1]]
                },
                {
                    name: "Submachine Guns",
                    map: "Any",
                    objective: "Kill 8 scavengers with an SMG on any map.",
                    tips: null,
                    video: { timestamp: "3:06", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=186s" }
                },
                // Level 2 Tasks
                {
                    name: "Treasure in Sewage",
                    map: "Resort",
                    objective: "Visit the wastewater treatment plant in resort, find Igor's blue notebook, and turn it in.",
                    tips: null,
                    video: { timestamp: "4:34", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=274s" }
                },
                {
                    name: "My Favourite: FAL",
                    map: "Any",
                    objective: "Get a FAL and get 8 scavenger kills with it on any map.",
                    tips: null,
                    video: { timestamp: "6:09", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=369s" }
                },
                {
                    name: "One Last Drink, My Friend",
                    map: "Resort",
                    objective: "Grab the memorial beer from the kiosk, go to resort, and place it on Old Jay's grave behind the lighthouse.",
                    tips: null,
                    video: { timestamp: "7:00", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=420s" }
                },
                {
                    name: "Reading Habits",
                    map: "Any",
                    objective: "Submit 1 flashlight and 3 size D batteries, found on any map.",
                    tips: null,
                    video: { timestamp: "7:20", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=440s" },
                    items: [["Flashlight", 1], ["Size D Battery", 3]]
                },
                {
                    name: "The Best Can",
                    map: "Any",
                    objective: "Submit 5 cans of peace, which can be found on any map.",
                    tips: "Cans don't need to be full.",
                    video: { timestamp: "7:32", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=452s" },
                    items: [["Can of Peace", 5]]
                },
                {
                    name: "Pistol Glory",
                    map: "Any",
                    objective: "Get 8 kills with any pistol on any map, killing bots or players.",
                    tips: null,
                    video: { timestamp: "7:45", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=465s" }
                },
                {
                    name: "Movie Night 1",
                    map: "Resort",
                    objective: "Grab 2 movie discs (Shark and Aurora Alazol) in resort and turn them in.",
                    tips: null,
                    video: { timestamp: "8:23", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=503s" },
                    items: [["Movie Disc", 2]]
                },
                {
                    name: "Magazine Recovery",
                    map: "Any",
                    objective: "Submit 2 AKM magazines (common) and 2 330-round magazines.",
                    tips: "330-round magazines are only buyable at level 3 or found in raid/from players.",
                    video: { timestamp: "10:10", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=610s" },
                    items: [["AKM Magazine", 2], ["330-Round Magazine", 2]]
                },
                {
                    name: "My Favourite: G18",
                    map: "Any",
                    objective: "Get 6 kills with a Glock 18 on any map, killing anyone.",
                    tips: null,
                    video: { timestamp: "10:53", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=653s" }
                },
                // Level 3 Tasks
                {
                    name: "Taste of Life 2",
                    map: "Suburbs",
                    objective: "Visit the wire farm in suburbs, go to the basement to mark a wine barrel, grab a bottle of wine from the kitchen sink, and successfully extract from the farm road and northwest windmill.",
                    tips: null,
                    video: { timestamp: "12:29", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=749s" }
                },
                {
                    name: "Emergency Rations",
                    map: "Dam",
                    objective: "Grab 3 cans of beans from the kiosk and place them in 3 specific locations on the dump map.",
                    tips: null,
                    video: { timestamp: "13:06", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=786s" }
                },
                {
                    name: "G3 Assembly",
                    map: "Any",
                    objective: "Get 12 kills with a G3 assembled with specific parts from the kiosk (G3, AK4 rail, BT3 10-round mag, AC or G scope), on any map, killing anyone.",
                    tips: null,
                    video: { timestamp: "13:39", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=819s" }
                },
                {
                    name: "My Favourite: Mosin",
                    map: "Any",
                    objective: "Grab any Mosin and get 8 kills with it on any map, killing bots or players.",
                    tips: null,
                    video: { timestamp: "14:54", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=894s" }
                },
                {
                    name: "Movie Night 2",
                    map: "Dam",
                    objective: "Find 2 movie discs in the military base area (food room) and turn them in.",
                    tips: null,
                    video: { timestamp: "16:32", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=992s" },
                    items: [["Movie Disc", 2]]
                },
                {
                    name: "Dress the Part",
                    map: "Any",
                    objective: "Get 16 kills wearing the black head and police body armor on any map, killing anyone.",
                    tips: null,
                    video: { timestamp: "16:54", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=1014s" }
                },
                {
                    name: "Forever in Flash",
                    map: "Any",
                    objective: "Take a camera phone from the kiosk and take photos of statues in Clifton and Dam, resort, metro, and suburbs.",
                    tips: "Multiple map locations required.",
                    video: { timestamp: "18:14", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=1094s" }
                },
                {
                    name: "My Favourite: Sjogren",
                    map: "Metro",
                    objective: "Grab the Sjogren shotgun and kill 12 scavengers in metro.",
                    tips: null,
                    video: { timestamp: "18:45", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=1125s" }
                },
                {
                    name: "One Time Delivery",
                    map: "Any",
                    objective: "Find 3 heavy supply cases (17kg each) and leave them at specific locations.",
                    tips: "Cases are very heavy at 17kg each.",
                    video: { timestamp: "19:28", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=1168s" },
                    items: [["Heavy Supply Case", 3]]
                },
                {
                    name: "Into The Lion's Den",
                    map: "Metro",
                    objective: "In metro, find the officer back room and turn in a Maluk 762 (can be bought or found on the bed with the officer room key).",
                    tips: null,
                    video: { timestamp: "20:41", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=1241s" },
                    items: [["Maluk 762", 1]]
                },
                {
                    name: "War Within Self",
                    map: "Any",
                    objective: "Get 33 kills anywhere, with anything, killing anyone.",
                    tips: null,
                    video: { timestamp: "21:12", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=1272s" }
                },
                {
                    name: "Intermission",
                    map: "Any",
                    objective: "Submit 1 lighter and 1 lighter fluid to unlock the max level.",
                    tips: "Final task to unlock max Igor level.",
                    video: { timestamp: "21:42", url: "https://www.youtube.com/watch?v=YEPtvxMzsBY&t=1302s" },
                    items: [["Lighter", 1], ["Lighter Fluid", 1]]
                }
            ],
            'anna': [
                // Gunsmith Tasks
                {
                    name: "Gunsmith: Rebuild",
                    map: "Any",
                    objective: "Assemble an AR-15 from parts found in your mailbox. This is the first task after completing Veron.",
                    tips: "Pay attention to part names and the specific order of assembly. Start with the lower receiver.",
                    video: { timestamp: "0:00", url: "https://www.youtube.com/watch?v=XuhOEKMeakI&t=0s" }
                },
                {
                    name: "Gunsmith: Assemble",
                    map: "Any",
                    objective: "Assemble a pistol using parts from the mailbox.",
                    tips: "Start with the lower receiver and then add available parts from storage.",
                    video: { timestamp: "5:08", url: "https://www.youtube.com/watch?v=XuhOEKMeakI&t=308s" }
                },
                {
                    name: "Gunsmith: Attach",
                    map: "Any",
                    objective: "Attach specific parts to a weapon in a particular order.",
                    tips: "Do attachments in a particular order as one attachment can unlock others.",
                    video: { timestamp: "6:23", url: "https://www.youtube.com/watch?v=XuhOEKMeakI&t=383s" }
                },
                // Modification Trials
                {
                    name: "M16 Modification Trial",
                    map: "Any",
                    objective: "Modify an M16 to meet specific statistical requirements.",
                    tips: "Parts needed: M4 upper receiver, AR-15 Delta 8 handguard, AR-15 254mm barrel. Add a stock before certain attachments like a 45Â° mount.",
                    video: { timestamp: "8:39", url: "https://www.youtube.com/watch?v=XuhOEKMeakI&t=519s" }
                },
                {
                    name: "G3 Modification Trial",
                    map: "Any",
                    objective: "Modify a G3 to meet specific requirements.",
                    tips: "Buy a G3 from Arc. Parts needed: Jaffrey lower receiver, BK pistol grip, Jaffrey Sufur stock, G3 AK4 upper receiver, G3 AS handguard, G3 muzzle, mount M lock long with PVGBK foregrip.",
                    video: { timestamp: "11:34", url: "https://www.youtube.com/watch?v=XuhOEKMeakI&t=694s" }
                },
                {
                    name: "M870 Modification Trial",
                    map: "Any",
                    objective: "Modify the M870 shotgun to meet ergonomic and recoil requirements.",
                    tips: "Requirements: Ergonomics more than 55, vertical recoil less than 260.",
                    video: { timestamp: "12:20", url: "https://www.youtube.com/watch?v=XuhOEKMeakI&t=740s" }
                },
                {
                    name: "SKS Modification Trial",
                    map: "Any",
                    objective: "Modify the SKS to meet specific requirements.",
                    tips: "Buy the SKS Tapco from Anna, remove its stock, and place the OpSKS on the workbench.",
                    video: { timestamp: "14:13", url: "https://www.youtube.com/watch?v=XuhOEKMeakI&t=853s" }
                },
                {
                    name: "AK74N Modification Trial",
                    map: "Any",
                    objective: "Modify the AK74N to meet specific requirements.",
                    tips: null,
                    video: { timestamp: "15:19", url: "https://www.youtube.com/watch?v=XuhOEKMeakI&t=919s" }
                },
                {
                    name: "M1A Modification Trial",
                    map: "Any",
                    objective: "Modify the M1A to meet specific requirements. Requires finding the M1A508 barrel.",
                    tips: "M1A508 barrel can be found in gun crates or traded for. Parts: M1A lower receiver, M1A Archangel stock, M1A 558mm barrel, AR-15 and 10 TBast BK cover muzzle, HRMA sight, Tango Down foregrip.",
                    video: { timestamp: "16:03", url: "https://www.youtube.com/watch?v=XuhOEKMeakI&t=963s" }
                },
                {
                    name: "AKS74UN Modification Trial",
                    map: "Any",
                    objective: "Modify the AKS74UN to meet specific requirements.",
                    tips: "Parts: MOE pistol grip, FAB stock, 6P upper receiver, 5.56 adapter muzzle, AR-15 QDS-ND4 second muzzle, AKs74U B18 magazine mount, Tukan 2 sight.",
                    video: { timestamp: "17:13", url: "https://www.youtube.com/watch?v=XuhOEKMeakI&t=1033s" }
                },
                {
                    name: "M4A1 Modification Trial",
                    map: "Any",
                    objective: "Modify the M4A1 to meet specific requirements.",
                    tips: "Final modification trial for Anna.",
                    video: { timestamp: "18:25", url: "https://www.youtube.com/watch?v=XuhOEKMeakI&t=1105s" }
                }
            ],
            'maggie': [
                // Level 1
                {
                    name: "First Contact",
                    map: "Dam",
                    type: "Contract",
                    objective: "Make an extraction from Dam Area.",
                    tips: "Head to the Dam Area, explore, and extract safely.",
                    video: { timestamp: "0:00", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=0s" }
                },
                {
                    name: "Supply Shortage 1",
                    map: "Any",
                    type: "Side-Task",
                    objective: "Turn in 2 bottles of water and 2 cans of food.",
                    tips: "Basic supplies can be found commonly in residential buildings.",
                    video: { timestamp: "0:00", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=0s" },
                    items: [["Bottle of Water", 2], ["Can of Food", 2]]
                },
                {
                    name: "Supply Shortage 2",
                    map: "Any",
                    type: "Side-Task",
                    objective: "Turn in 3 Household Items found in raid.",
                    tips: "Household items can be found commonly inside residential buildings.",
                    video: { timestamp: "0:00", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=0s" },
                    items: [["Household Item", 3]]
                },
                {
                    name: "Supply Shortage 3",
                    map: "Any",
                    type: "Side-Task",
                    objective: "Turn in 4 Household Items found in raid.",
                    tips: "Household items can be found commonly inside residential buildings.",
                    video: { timestamp: "0:00", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=0s" },
                    items: [["Household Item", 4]]
                },
                {
                    name: "Borrowed and Returned",
                    map: "Dam",
                    type: "Contract",
                    objective: "Find Maggie's Precious Camera at the Mountain Cabin in Dam Area and return it to her.",
                    tips: "Go to the Mountain Cabin in the Dam Area. Enter the cabin and find Maggie's Precious Camera inside, then turn it in.",
                    video: { timestamp: "0:00", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=0s" },
                    items: [["Maggie's Precious Camera", 1]]
                },
                {
                    name: "Final Message",
                    map: "Dam",
                    type: "Contract",
                    objective: "Head to the Weather Outpost and Turbine Field in Dam to investigate the missing meteorologist, find him, and capture him.",
                    tips: "Arrive at the Weather Outpost, then the Turbine Field. Find the meteorologist and capture him. Take photos of the scene.",
                    video: { timestamp: "0:00", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=0s" }
                },
                {
                    name: "Playback Time",
                    map: "Any",
                    objective: "Find and deliver an MP3 player to Maggie.",
                    tips: "MP3 players can be found in jackets and bags.",
                    video: { timestamp: "0:31", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=31s" },
                    items: [["MP3 Player", 1]]
                },
                {
                    name: "Health Basics",
                    map: "Any",
                    objective: "Deliver 3 bandages and 1 first aid kit to Maggie.",
                    tips: "Medical supplies can be found in med bags and medical locations.",
                    video: { timestamp: "0:55", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=55s" },
                    items: [["Bandage", 3], ["First Aid Kit", 1]]
                },
                {
                    name: "A Friendly Visit",
                    map: "Suburbs",
                    objective: "Go to the Suburbs and locate the NTG stash location.",
                    tips: "The location is marked on your map.",
                    video: { timestamp: "1:14", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=74s" }
                },
                {
                    name: "Reconnect",
                    map: "Suburbs",
                    objective: "Locate the NTG radio equipment in Suburbs.",
                    tips: "Search the marked location for the radio equipment.",
                    video: { timestamp: "1:41", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=101s" }
                },
                // Level 2
                {
                    name: "Info for Aid",
                    map: "Any",
                    objective: "Deliver 2 flash drives to Maggie.",
                    tips: "Flash drives can be found in filing cabinets and PC blocks.",
                    video: { timestamp: "2:38", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=158s" },
                    items: [["Flash Drive", 2]]
                },
                {
                    name: "Remedy from the East",
                    map: "Any",
                    objective: "Deliver 3 bottles of ibuprofen to Maggie.",
                    tips: "Ibuprofen can be found in medical locations and pharmacies.",
                    video: { timestamp: "3:04", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=184s" },
                    items: [["Ibuprofen", 3]]
                },
                {
                    name: "Exotic Remedy",
                    map: "Any",
                    objective: "Find and deliver 1 propital injector to Maggie.",
                    tips: "Propital is a rare medical item found in medical crates.",
                    video: { timestamp: "3:28", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=208s" },
                    items: [["Propital Injector", 1]]
                },
                {
                    name: "Clear the Way",
                    map: "Suburbs",
                    objective: "Eliminate 10 enemies in Suburbs.",
                    tips: "Any enemy type counts toward this objective.",
                    video: { timestamp: "3:53", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=233s" }
                },
                {
                    name: "Signal Boost",
                    map: "Suburbs",
                    objective: "Place a signal booster at the marked location in Suburbs.",
                    tips: "The booster location is marked on your map.",
                    video: { timestamp: "4:16", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=256s" }
                },
                {
                    name: "Where Did the Ambulances Go?",
                    map: "Dam",
                    objective: "Search the ambulance at Dam for medical supplies.",
                    tips: "The ambulance location is near the medical tent area.",
                    video: { timestamp: "4:44", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=284s" }
                },
                {
                    name: "When It Rains It Pours",
                    map: "Suburbs",
                    objective: "Find and retrieve the NTG supply crate in Suburbs during rain.",
                    tips: "This task requires rainy weather conditions.",
                    video: { timestamp: "5:36", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=336s" }
                },
                {
                    name: "Coffee Break",
                    map: "Any",
                    objective: "Deliver 3 thermoses to Maggie.",
                    tips: "Thermoses can be found in break rooms and kitchens.",
                    video: { timestamp: "6:25", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=385s" },
                    items: [["Thermos", 3]]
                },
                {
                    name: "N.T.G. Investigation 1",
                    map: "Suburbs",
                    objective: "Investigate the first NTG clue location in Suburbs.",
                    tips: "Follow the marked location to find clues.",
                    video: { timestamp: "6:48", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=408s" }
                },
                // Level 3
                {
                    name: "Rest in Deep",
                    map: "Dam",
                    objective: "Locate and search the submerged vehicle at Dam.",
                    tips: "The vehicle is underwater near the dam structure.",
                    video: { timestamp: "8:02", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=482s" }
                },
                {
                    name: "Private Clinic",
                    map: "Suburbs",
                    objective: "Find and loot the hidden medical stash in Suburbs.",
                    tips: "The clinic is in a residential building.",
                    video: { timestamp: "8:42", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=522s" }
                },
                {
                    name: "N.T.G. Investigation 2",
                    map: "Dam",
                    objective: "Continue the NTG investigation at Dam.",
                    tips: "Search the marked areas for additional clues.",
                    video: { timestamp: "9:35", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=575s" }
                },
                {
                    name: "Gear Upgrade",
                    map: "Any",
                    objective: "Deliver a tactical rig to Maggie.",
                    tips: "Any tactical rig will complete this objective.",
                    video: { timestamp: "10:23", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=623s" },
                    items: [["Tactical Rig", 1]]
                },
                {
                    name: "Medical Delivery",
                    map: "Any",
                    objective: "Deliver medical supplies including a surgical kit to Maggie.",
                    tips: "Surgical kits are rare and found in medical areas.",
                    video: { timestamp: "10:48", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=648s" },
                    items: [["Surgical Kit", 1]]
                },
                {
                    name: "Keys to Safety 1",
                    map: "Suburbs",
                    objective: "Find the first key in Suburbs for Maggie's safehouse.",
                    tips: "Check jackets and key spawns in residential areas.",
                    video: { timestamp: "11:15", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=675s" }
                },
                {
                    name: "Keys to Safety 2",
                    map: "Suburbs",
                    objective: "Find the second key in Suburbs.",
                    tips: "The key is in a different location from the first.",
                    video: { timestamp: "11:54", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=714s" }
                },
                {
                    name: "Keys to Safety 3",
                    map: "Dam",
                    objective: "Find the third and final key at Dam.",
                    tips: "Search the marked area at Dam.",
                    video: { timestamp: "12:31", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=751s" }
                },
                {
                    name: "N.T.G. Investigation 3",
                    map: "Dam",
                    objective: "Complete the final part of the NTG investigation at Dam.",
                    tips: "This concludes the investigation chain.",
                    video: { timestamp: "13:12", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=792s" }
                },
                {
                    name: "Shadows of the Truth 1",
                    map: "Suburbs",
                    objective: "Uncover the first part of the truth in Suburbs.",
                    tips: "Follow the investigation markers.",
                    video: { timestamp: "14:05", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=845s" }
                },
                {
                    name: "Shadows of the Truth 2",
                    map: "Dam",
                    objective: "Continue uncovering the truth at Dam.",
                    tips: "This follows from Shadows of the Truth 1.",
                    video: { timestamp: "14:52", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=892s" }
                },
                {
                    name: "Bearing Burdens",
                    map: "Dam",
                    objective: "Retrieve the heavy supply crate from Dam.",
                    tips: "The crate reduces your movement speed while carrying it.",
                    video: { timestamp: "15:38", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=938s" }
                },
                {
                    name: "Path to Escape 1",
                    map: "Suburbs",
                    objective: "Scout the first escape route location in Suburbs.",
                    tips: "Mark the location for future extraction planning.",
                    video: { timestamp: "16:14", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=974s" }
                },
                {
                    name: "Path to Escape 2",
                    map: "Dam",
                    objective: "Scout the second escape route at Dam.",
                    tips: "This follows Path to Escape 1.",
                    video: { timestamp: "17:02", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=1022s" }
                },
                {
                    name: "Shrouded in Shadows",
                    map: "Suburbs",
                    objective: "Eliminate enemies in Suburbs at night without being detected.",
                    tips: "Use suppressed weapons and night vision if available.",
                    video: { timestamp: "17:48", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=1068s" }
                },
                {
                    name: "Return to the Dark",
                    map: "Dam",
                    objective: "Complete a nighttime operation at Dam.",
                    tips: "Bring night vision and suppressed weapons.",
                    video: { timestamp: "18:32", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=1112s" }
                },
                {
                    name: "Death by Deception",
                    map: "Any",
                    objective: "Eliminate enemies using deceptive tactics.",
                    tips: "Final task for Maggie - use traps or lure enemies.",
                    video: { timestamp: "19:15", url: "https://www.youtube.com/watch?v=ZOuSedSDlUE&t=1155s" }
                }
            ]
        };

        let currentTrader = localStorage.getItem('exfilzone-current-trader') || 'maximilian';
        const STORAGE_KEY = 'exfilzone-completed-tasks';
        let completedTasks = new Set();

        // Load completed tasks from localStorage
        function loadCompletedTasks() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                completedTasks = new Set(JSON.parse(saved));
            }
        }

        // Save completed tasks to localStorage
        function saveCompletedTasks() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify([...completedTasks]));
        }

        // Toggle task completion
        function toggleTask(taskId, event) {
            // Don't toggle if clicking on a link
            if (event.target.tagName === 'A') {
                return;
            }
            event.stopPropagation();

            if (completedTasks.has(taskId)) {
                completedTasks.delete(taskId);
            } else {
                completedTasks.add(taskId);
            }
            saveCompletedTasks();
            filterTasks();
            updateProgressStats();
            renderItemsSummary();
        }

        // Update progress stats display
        function updateProgressStats() {
            const tasks = taskData[currentTrader] || [];
            const total = tasks.length;
            let completed = 0;

            tasks.forEach((task, index) => {
                const taskId = `${currentTrader}-${index}`;
                if (completedTasks.has(taskId)) {
                    completed++;
                }
            });

            const percent = total > 0 ? Math.round((completed / total) * 100) : 0;

            document.getElementById('completedCount').textContent = completed;
            document.getElementById('totalCount').textContent = total;
            document.getElementById('progressPercent').textContent = percent + '%';
            document.getElementById('progressBar').style.width = percent + '%';
        }

        function toggleItemsSummary() {
            const section = document.getElementById('itemsSummarySection');
            section.classList.toggle('expanded');
        }

        function calculateItemTotals() {
            const itemTotals = {};
            const tasks = taskData[currentTrader] || [];

            tasks.forEach((task, index) => {
                const taskId = `${currentTrader}-${index}`;
                if (!completedTasks.has(taskId) && task.items) {
                    task.items.forEach(([itemName, quantity]) => {
                        if (!itemTotals[itemName]) {
                            itemTotals[itemName] = 0;
                        }
                        itemTotals[itemName] += quantity;
                    });
                }
            });

            return itemTotals;
        }

        function renderItemsSummary() {
            const itemTotals = calculateItemTotals();
            const grid = document.getElementById('itemsSummaryGrid');
            const stats = document.getElementById('itemsSummaryStats');
            const section = document.getElementById('itemsSummarySection');

            const sortedItems = Object.entries(itemTotals)
                .sort((a, b) => b[1] - a[1]);

            if (sortedItems.length === 0) {
                section.style.display = 'none';
                return;
            }

            section.style.display = 'block';

            let html = '';
            sortedItems.forEach(([itemName, quantity]) => {
                html += `
                    <div class="summary-item">
                        <span class="summary-item-name">${itemName}</span>
                        <span class="summary-item-qty">x${quantity}</span>
                    </div>
                `;
            });

            grid.innerHTML = html;

            const uniqueItems = sortedItems.length;
            const totalItems = sortedItems.reduce((sum, [, qty]) => sum + qty, 0);
            stats.innerHTML = `Unique items: <span>${uniqueItems}</span> | Total items: <span>${totalItems}</span>`;
        }

        const traderInfo = {
            'maximilian': {
                name: 'Maximilian',
                faction: 'BoulderForge',
                image: 'Images/Traders/BoulderForge_Maximilian_Trader.webp'
            },
            'tommy': {
                name: 'Tommy',
                faction: 'ARK',
                image: 'Images/Traders/ARK_Tommy_Trader.webp'
            },
            'johnny': {
                name: 'Johnny',
                faction: 'TRUPIKS',
                image: 'Images/Traders/TRUPIKS_Johnny_Trader.webp'
            },
            'igor': {
                name: 'Igor',
                faction: 'REGIMENT',
                image: 'Images/Traders/Regiment_Igor_Trader.webp'
            },
            'anna': {
                name: 'Anna',
                faction: 'NEUMANN',
                image: 'Images/Traders/NEUMANN_ANNA_TRADER.jpg'
            },
            'maggie': {
                name: 'Maggie',
                faction: 'N.T.G.',
                image: 'Images/Traders/NTG_Maggie_Trader.webp'
            }
        };

        function selectTrader(trader) {
            currentTrader = trader;
            localStorage.setItem('exfilzone-current-trader', trader);
            document.querySelectorAll('.trader-tab').forEach(tab => {
                tab.classList.toggle('active', tab.textContent.toLowerCase().includes(trader));
            });
            updateTraderDisplay();
            filterTasks();
            updateProgressStats();
            renderItemsSummary();
        }

        function updateTraderDisplay() {
            const info = traderInfo[currentTrader];
            const tasks = taskData[currentTrader] || [];

            document.getElementById('traderImage').src = info.image;
            document.getElementById('traderImage').alt = info.name;
            document.getElementById('traderName').textContent = info.name;
            document.getElementById('traderFaction').textContent = info.faction;
            document.getElementById('traderTaskCount').textContent = tasks.length + ' Tasks';
        }

        function filterTasks() {
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            const mapFilter = document.getElementById('mapFilter').value;

            const tasks = taskData[currentTrader] || [];
            const filtered = tasks.filter((task, index) => {
                const matchesSearch = task.name.toLowerCase().includes(searchTerm) ||
                                     task.objective.toLowerCase().includes(searchTerm);
                const matchesMap = mapFilter === 'all' || task.map === mapFilter;
                return matchesSearch && matchesMap;
            });

            renderTasks(filtered);
        }

        function renderTasks(tasks) {
            const grid = document.getElementById('tasksGrid');
            const allTasks = taskData[currentTrader] || [];

            if (tasks.length === 0) {
                grid.innerHTML = '<div class="no-results">No missions found matching your criteria.</div>';
                return;
            }

            grid.innerHTML = tasks.map(task => {
                const taskIndex = allTasks.indexOf(task);
                const taskId = `${currentTrader}-${taskIndex}`;
                const isCompleted = completedTasks.has(taskId);
                const completedClass = isCompleted ? 'completed' : '';
                const badge = isCompleted ? '<div class="completed-badge">âœ“</div>' : '';

                return `
                    <div class="task-card ${completedClass}" onclick="toggleTask('${taskId}', event)">
                        ${badge}
                        <div class="task-header">
                            <span class="task-name">${task.name}</span>
                            <span class="task-number">#${taskIndex + 1}</span>
                        </div>
                        <div class="task-content">
                            <div class="task-map">${task.map}</div>${task.type ? `<div class="task-type">${task.type}</div>` : ''}
                            <div class="task-objective">${task.objective}</div>
                            ${task.tips ? `
                                <div class="task-tips">
                                    <div class="task-tips-label">Tip</div>
                                    ${task.tips}
                                </div>
                            ` : ''}
                            ${task.video ? `
                                <div class="task-video">
                                    <a href="${task.video.url}" target="_blank">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>
                                        Watch Video Guide (${task.video.timestamp})
                                    </a>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Sidebar toggle functionality
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const isMobile = window.innerWidth <= 768;

            if (isMobile) {
                sidebar.classList.toggle('mobile-open');
            } else {
                sidebar.classList.toggle('collapsed');
            }

            // Save preference
            localStorage.setItem('sidebarCollapsed', sidebar.classList.contains('collapsed'));
        }

        // Load sidebar state
        function loadSidebarState() {
            const collapsed = localStorage.getItem('sidebarCollapsed') === 'true';
            const sidebar = document.getElementById('sidebar');
            if (collapsed && window.innerWidth > 768) {
                sidebar.classList.add('collapsed');
            }
        }

        // Initial render
        loadSidebarState();
        loadCompletedTasks();
        // Restore last selected trader
        document.querySelectorAll('.trader-tab').forEach(tab => {
            tab.classList.toggle('active', tab.textContent.toLowerCase().includes(currentTrader));
        });
        updateTraderDisplay();
        filterTasks();
        updateProgressStats();
        renderItemsSummary();
    </script>
    </div>
</body>
</html>
